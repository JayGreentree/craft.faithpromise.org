var objectFitVideos=function(t){"use strict";function o(t){for(var o=getComputedStyle(t).fontFamily,e=null,n={};null!==(e=c.exec(o));)n[e[1]]=e[2];return n["object-position"]?i(n):n}function e(t,o){function e(){var e=t.videoWidth,n=t.videoHeight,d=e/n,c=r.clientWidth,a=r.clientHeight,p=c/a,l=0,s=0;i.marginLeft=i.marginTop=0,(d<p?"contain"===o["object-fit"]:"cover"===o["object-fit"])?(l=a*d,s=c/d,i.width=Math.round(l)+"px",i.height=a+"px","left"===o["object-position-x"]?i.marginLeft=0:"right"===o["object-position-x"]?i.marginLeft=Math.round(c-l)+"px":i.marginLeft=Math.round((c-l)/2)+"px"):(s=c/d,i.width=c+"px",i.height=Math.round(s)+"px","top"===o["object-position-y"]?i.marginTop=0:"bottom"===o["object-position-y"]?i.marginTop=Math.round(a-s)+"px":i.marginTop=Math.round((a-s)/2)+"px"),t.autoplay&&t.play()}if("fill"!==o["object-fit"]){var i=t.style,n=window.getComputedStyle(t),r=document.createElement("object-fit");r.appendChild(t.parentNode.replaceChild(r,t));var d={height:"100%",width:"100%",boxSizing:"content-box",display:"inline-block",overflow:"hidden"};"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(/\w+/g,function(t){d[t]=n[t]});for(var c in d)r.style[c]=d[c];i.border=i.margin=i.padding=0,i.display="block",i.opacity=1,t.addEventListener("loadedmetadata",e),window.addEventListener("optimizedResize",e),t.readyState>=1&&(t.removeEventListener("loadedmetadata",e),e())}}function i(t){return~t["object-position"].indexOf("left")?t["object-position-x"]="left":~t["object-position"].indexOf("right")?t["object-position-x"]="right":t["object-position-x"]="center",~t["object-position"].indexOf("top")?t["object-position-y"]="top":~t["object-position"].indexOf("bottom")?t["object-position-y"]="bottom":t["object-position-y"]="center",t}var n=new Image,r="object-fit"in n.style,d="object-position"in n.style,c=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;r&&d||(function(t){var i=-1;t?"length"in t||(t=[t]):t=document.querySelectorAll("video");for(;t[++i];){var n=o(t[i]);(n["object-fit"]||n["object-position"])&&(n["object-fit"]=n["object-fit"]||"fill",e(t[i],n))}}(t),function(t,o,e){e=e||window;var i=!1,n=null;try{n=new CustomEvent(o)}catch(t){n=document.createEvent("Event"),n.initEvent(o,!0,!0)}var r=function(){i||(i=!0,requestAnimationFrame(function(){e.dispatchEvent(n),i=!1}))};e.addEventListener(t,r)}("resize","optimizedResize"))};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=objectFitVideos);